[gd_scene load_steps=10 format=3 uid="uid://nu7um6h5hlo0"]

[ext_resource type="Script" path="res://Objects/Units/unit.gd" id="1_lthus"]
[ext_resource type="Script" path="res://Objects/Units/Unit Stats/unit_stats.gd" id="2_0gf67"]
[ext_resource type="Texture2D" uid="uid://bc2plbm64py8h" path="res://Art Assets/Aesprite Files/Unit_Gnome.png" id="3_o5o3v"]
[ext_resource type="PackedScene" uid="uid://bufu7weo7vawn" path="res://Objects/Components/Attack Manager/attack_manager.tscn" id="4_l5wyw"]
[ext_resource type="PackedScene" uid="uid://bmms4yangvq1x" path="res://Objects/Components/Health Manager/health_manager.tscn" id="4_scuqf"]

[sub_resource type="Resource" id="Resource_x3usw"]
script = ExtResource("2_0gf67")
texture = ExtResource("3_o5o3v")
mana_cost = 10.0
move_acceleration = 50.0
move_speed = 200.0
max_health = 100.0
damage = 10.0
attack_speed = 4.0
attack_range = 40.0
detection_range = 100.0

[sub_resource type="CircleShape2D" id="CircleShape2D_nj2oi"]
radius = 20.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_u6bx0"]
bg_color = Color(0, 0.705882, 0.521569, 0)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(4.81307e-07, 0.705976, 0.523266, 1)
border_blend = true

[sub_resource type="CircleShape2D" id="CircleShape2D_1n6xd"]
radius = 36.2215

[node name="Unit" type="CharacterBody2D" groups=["Units"]]
script = ExtResource("1_lthus")
stats = SubResource("Resource_x3usw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_nj2oi")

[node name="Art" type="Sprite2D" parent="."]
texture = ExtResource("3_o5o3v")

[node name="Selection Overlay" type="Panel" parent="."]
visible = false
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 19.0
theme_override_styles/panel = SubResource("StyleBoxFlat_u6bx0")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
path_desired_distance = 60.0
target_desired_distance = 60.0
path_max_distance = 20.0
radius = 20.0
max_neighbors = 20
max_speed = 339.7

[node name="Detection Range" type="Area2D" parent="."]
collision_layer = 0

[node name="Detection Collision Shape" type="CollisionShape2D" parent="Detection Range"]
shape = SubResource("CircleShape2D_1n6xd")

[node name="Attack Manager" parent="." node_paths=PackedStringArray("ignored") instance=ExtResource("4_l5wyw")]
ignored = [NodePath("../Health Manager")]

[node name="Health Manager" parent="." instance=ExtResource("4_scuqf")]

[connection signal="body_entered" from="Detection Range" to="." method="_on_detection_range_body_entered"]
[connection signal="body_exited" from="Detection Range" to="." method="_on_detection_range_body_exited"]
[connection signal="death" from="Health Manager" to="." method="on_death"]
